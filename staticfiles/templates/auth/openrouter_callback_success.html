<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>OpenRouter OAuth Success</title>
  <script>
    window.addEventListener('load', () => {
      try {
        const data = JSON.parse(document.getElementById('data-json').textContent);
        if (window.opener) {
          window.opener.postMessage({ type: 'openrouter_oauth_success', payload: data }, '*');
        }
      } catch (e) { console.error(e); }
    });
  </script>
</head>
<body>
  <h2>Authentication Complete</h2>
  <p>You can close this window.</p>
  <pre id="data-json" style="display:none;">{{ data_json|escape }}</pre>
</body>
</html>
